var require=function(e,t){var n=require.resolve(e,t||"/"),r=require.modules[n];if(!r)throw new Error("Failed to resolve module "+e+", tried "+n);var i=r._cached?r._cached:r();return i};require.paths=[],require.modules={},require.extensions=[".js",".coffee"],require._core={assert:!0,events:!0,fs:!0,path:!0,vm:!0},require.resolve=function(){return function(e,t){function o(e){e=n.normalize(e);if(require.modules[e])return e;for(var t=0;t<require.extensions.length;t++){var r=require.extensions[t];if(require.modules[e+r])return e+r}}function u(e){e=e.replace(/\/+$/,"");var t=n.normalize(e+"/package.json");if(require.modules[t]){var r=require.modules[t](),i=r.browserify;if(typeof i=="object"&&i.main){var s=o(n.resolve(e,i.main));if(s)return s}else if(typeof i=="string"){var s=o(n.resolve(e,i));if(s)return s}else if(r.main){var s=o(n.resolve(e,r.main));if(s)return s}}return o(e+"/index")}function a(e,t){var n=f(t);for(var r=0;r<n.length;r++){var i=n[r],s=o(i+"/"+e);if(s)return s;var a=u(i+"/"+e);if(a)return a}var s=o(e);if(s)return s}function f(e){var t;e==="/"?t=[""]:t=n.normalize(e).split("/");var r=[];for(var i=t.length-1;i>=0;i--){if(t[i]==="node_modules")continue;var s=t.slice(0,i+1).join("/")+"/node_modules";r.push(s)}return r}t||(t="/");if(require._core[e])return e;var n=require.modules.path();t=n.resolve("/",t);var r=t||"/";if(e.match(/^(?:\.\.?\/|\/)/)){var i=o(n.resolve(r,e))||u(n.resolve(r,e));if(i)return i}var s=a(e,r);if(s)return s;throw new Error("Cannot find module '"+e+"'")}}(),require.alias=function(e,t){var n=require.modules.path(),r=null;try{r=require.resolve(e+"/package.json","/")}catch(i){r=require.resolve(e,"/")}var s=n.dirname(r),o=(Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t})(require.modules);for(var u=0;u<o.length;u++){var a=o[u];if(a.slice(0,s.length+1)===s+"/"){var f=a.slice(s.length);require.modules[t+f]=require.modules[s+f]}else a===s&&(require.modules[t]=require.modules[s])}},require.define=function(e,t){var n=require._core[e]?"":require.modules.path().dirname(e),r=function(e){return require(e,n)};r.resolve=function(e){return require.resolve(e,n)},r.modules=require.modules,r.define=require.define;var i={exports:{}};require.modules[e]=function(){return require.modules[e]._cached=i.exports,t.call(i.exports,r,i,i.exports,n,e),require.modules[e]._cached=i.exports,i.exports}},typeof process=="undefined"&&(process={}),process.nextTick||(process.nextTick=function(){var e=[],t=typeof window!="undefined"&&window.postMessage&&window.addEventListener;return t&&window.addEventListener("message",function(t){if(t.source===window&&t.data==="browserify-tick"){t.stopPropagation();if(e.length>0){var n=e.shift();n()}}},!0),function(n){t?(e.push(n),window.postMessage("browserify-tick","*")):setTimeout(n,0)}}()),process.title||(process.title="browser"),process.binding||(process.binding=function(e){if(e==="evals")return require("vm");throw new Error("No such module")}),process.cwd||(process.cwd=function(){return"."}),process.env||(process.env={}),process.argv||(process.argv=[]),require.define("path",function(e,t,n,r,i){function s(e,t){var n=[];for(var r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}function o(e,t){var n=0;for(var r=e.length;r>=0;r--){var i=e[r];i=="."?e.splice(r,1):i===".."?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}var u=/^(.+\/(?!$)|\/)?((?:.+?)?(\.[^.]*)?)$/;n.resolve=function(){var e="",t=!1;for(var n=arguments.length;n>=-1&&!t;n--){var r=n>=0?arguments[n]:process.cwd();if(typeof r!="string"||!r)continue;e=r+"/"+e,t=r.charAt(0)==="/"}return e=o(s(e.split("/"),function(e){return!!e}),!t).join("/"),(t?"/":"")+e||"."},n.normalize=function(e){var t=e.charAt(0)==="/",n=e.slice(-1)==="/";return e=o(s(e.split("/"),function(e){return!!e}),!t).join("/"),!e&&!t&&(e="."),e&&n&&(e+="/"),(t?"/":"")+e},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(s(e,function(e,t){return e&&typeof e=="string"}).join("/"))},n.dirname=function(e){var t=u.exec(e)[1]||"",n=!1;return t?t.length===1||n&&t.length<=3&&t.charAt(1)===":"?t:t.substring(0,t.length-1):"."},n.basename=function(e,t){var n=u.exec(e)[2]||"";return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){return u.exec(e)[3]||""}}),require.define("assert",function(e,t,n,r,i){function f(e,t){return t===undefined?""+t:typeof t=="number"&&(isNaN(t)||!isFinite(t))?t.toString():typeof t=="function"||t instanceof RegExp?t.toString():t}function l(e,t){return typeof e=="string"?e.length<t?e:e.slice(0,t):e}function c(e,t,n,r,i){throw new a.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function h(e,t){e||c(e,!0,t,"==",a.ok)}function p(e,t){if(e===t)return!0;if(o.isBuffer(e)&&o.isBuffer(t)){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():typeof e!="object"&&typeof t!="object"?e==t:m(e,t)}function d(e){return e===null||e===undefined}function v(e){return Object.prototype.toString.call(e)=="[object Arguments]"}function m(e,t){if(d(e)||d(t))return!1;if(e.prototype!==t.prototype)return!1;if(v(e))return v(t)?(e=u.call(e),t=u.call(t),p(e,t)):!1;try{var n=Object.keys(e),r=Object.keys(t),i,s}catch(o){return!1}if(n.length!=r.length)return!1;n.sort(),r.sort();for(s=n.length-1;s>=0;s--)if(n[s]!=r[s])return!1;for(s=n.length-1;s>=0;s--){i=n[s];if(!p(e[i],t[i]))return!1}return!0}function g(e,t){return!e||!t?!1:t instanceof RegExp?t.test(e):e instanceof t?!0:t.call({},e)===!0?!0:!1}function y(e,t,n,r){var i;typeof n=="string"&&(r=n,n=null);try{t()}catch(s){i=s}r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!i&&c("Missing expected exception"+r),!e&&g(i,n)&&c("Got unwanted exception"+r);if(e&&i&&n&&!g(i,n)||!e&&i)throw i}var s=e("util"),o=e("buffer").Buffer,u=Array.prototype.slice,a=t.exports=h;a.AssertionError=function(t){this.name="AssertionError",this.message=t.message,this.actual=t.actual,this.expected=t.expected,this.operator=t.operator;var n=t.stackStartFunction||c;Error.captureStackTrace&&Error.captureStackTrace(this,n)},s.inherits(a.AssertionError,Error),a.AssertionError.prototype.toString=function(){return this.message?[this.name+":",this.message].join(" "):[this.name+":",l(JSON.stringify(this.actual,f),128),this.operator,l(JSON.stringify(this.expected,f),128)].join(" ")},a.AssertionError.__proto__=Error.prototype,a.fail=c,a.ok=h,a.equal=function(t,n,r){t!=n&&c(t,n,r,"==",a.equal)},a.notEqual=function(t,n,r){t==n&&c(t,n,r,"!=",a.notEqual)},a.deepEqual=function(t,n,r){p(t,n)||c(t,n,r,"deepEqual",a.deepEqual)},a.notDeepEqual=function(t,n,r){p(t,n)&&c(t,n,r,"notDeepEqual",a.notDeepEqual)},a.strictEqual=function(t,n,r){t!==n&&c(t,n,r,"===",a.strictEqual)},a.notStrictEqual=function(t,n,r){t===n&&c(t,n,r,"!==",a.notStrictEqual)},a.throws=function(e,t,n){y.apply(this,[!0].concat(u.call(arguments)))},a.doesNotThrow=function(e,t,n){y.apply(this,[!1].concat(u.call(arguments)))},a.ifError=function(e){if(e)throw e}}),require.define("util",function(e,t,n,r,i){function o(e){return e instanceof Array||Array.isArray(e)||e&&e!==Object.prototype&&o(e.__proto__)}function u(e){return e instanceof RegExp||typeof e=="object"&&Object.prototype.toString.call(e)==="[object RegExp]"}function a(e){if(e instanceof Date)return!0;if(typeof e!="object")return!1;var t=Date.prototype&&p(Date.prototype),n=e.__proto__&&p(e.__proto__);return JSON.stringify(n)===JSON.stringify(t)}function f(e){return e<10?"0"+e.toString(10):e.toString(10)}function c(){var e=new Date,t=[f(e.getHours()),f(e.getMinutes()),f(e.getSeconds())].join(":");return[e.getDate(),l[e.getMonth()],t].join(" ")}var s=e("events");n.print=function(){},n.puts=function(){},n.debug=function(){},n.inspect=function(e,t,r,i){function l(e,r){if(e&&typeof e.inspect=="function"&&e!==n&&(!e.constructor||e.constructor.prototype!==e))return e.inspect(r);switch(typeof e){case"undefined":return f("undefined","undefined");case"string":var i="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return f(i,"string");case"number":return f(""+e,"number");case"boolean":return f(""+e,"boolean")}if(e===null)return f("null","null");var c=h(e),d=t?p(e):c;if(typeof e=="function"&&d.length===0){if(u(e))return f(""+e,"regexp");var v=e.name?": "+e.name:"";return f("[Function"+v+"]","special")}if(a(e)&&d.length===0)return f(e.toUTCString(),"date");var m,g,y;o(e)?(g="Array",y=["[","]"]):(g="Object",y=["{","}"]);if(typeof e=="function"){var b=e.name?": "+e.name:"";m=u(e)?" "+e:" [Function"+b+"]"}else m="";a(e)&&(m=" "+e.toUTCString());if(d.length===0)return y[0]+m+y[1];if(r<0)return u(e)?f(""+e,"regexp"):f("[Object]","special");s.push(e);var w=d.map(function(t){var n,i;e.__lookupGetter__&&(e.__lookupGetter__(t)?e.__lookupSetter__(t)?i=f("[Getter/Setter]","special"):i=f("[Getter]","special"):e.__lookupSetter__(t)&&(i=f("[Setter]","special"))),c.indexOf(t)<0&&(n="["+t+"]"),i||(s.indexOf(e[t])<0?(r===null?i=l(e[t]):i=l(e[t],r-1),i.indexOf("\n")>-1&&(o(e)?i=i.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):i="\n"+i.split("\n").map(function(e){return"   "+e}).join("\n"))):i=f("[Circular]","special"));if(typeof n=="undefined"){if(g==="Array"&&t.match(/^\d+$/))return i;n=JSON.stringify(""+t),n.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(n=n.substr(1,n.length-2),n=f(n,"name")):(n=n.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),n=f(n,"string"))}return n+": "+i});s.pop();var E=0,S=w.reduce(function(e,t){return E++,t.indexOf("\n")>=0&&E++,e+t.length+1},0);return S>50?w=y[0]+(m===""?"":m+"\n ")+" "+w.join(",\n  ")+" "+y[1]:w=y[0]+m+" "+w.join(", ")+" "+y[1],w}var s=[],f=function(e,t){var n={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r={special:"cyan",number:"blue","boolean":"yellow","undefined":"grey","null":"bold",string:"green",date:"magenta",regexp:"red"}[t];return r?"["+n[r][0]+"m"+e+"["+n[r][1]+"m":e};return i||(f=function(e,t){return e}),l(e,typeof r=="undefined"?2:r)};var l=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(e){},n.pump=null;var h=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t},p=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.hasOwnProperty.call(e,n)&&t.push(n);return t},d=Object.create||function(e,t){var n;if(e===null)n={__proto__:null};else{if(typeof e!="object")throw new TypeError("typeof prototype["+typeof e+"] != 'object'");var r=function(){};r.prototype=e,n=new r,n.__proto__=e}return typeof t!="undefined"&&Object.defineProperties&&Object.defineProperties(n,t),n};n.inherits=function(e,t){e.super_=t,e.prototype=d(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}}),require.define("events",function(e,t,n,r,i){process.EventEmitter||(process.EventEmitter=function(){});var s=n.EventEmitter=process.EventEmitter,o=typeof Array.isArray=="function"?Array.isArray:function(e){return Object.prototype.toString.call(e)==="[object Array]"},u=10;s.prototype.setMaxListeners=function(e){this._events||(this._events={}),this._events.maxListeners=e},s.prototype.emit=function(e){if(e==="error")if(!this._events||!this._events.error||o(this._events.error)&&!this._events.error.length)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var t=this._events[e];if(!t)return!1;if(typeof t=="function"){switch(arguments.length){case 1:t.call(this);break;case 2:t.call(this,arguments[1]);break;case 3:t.call(this,arguments[1],arguments[2]);break;default:var n=Array.prototype.slice.call(arguments,1);t.apply(this,n)}return!0}if(o(t)){var n=Array.prototype.slice.call(arguments,1),r=t.slice();for(var i=0,s=r.length;i<s;i++)r[i].apply(this,n);return!0}return!1},s.prototype.addListener=function(e,t){if("function"!=typeof t)throw new Error("addListener only takes instances of Function");this._events||(this._events={}),this.emit("newListener",e,t);if(!this._events[e])this._events[e]=t;else if(o(this._events[e])){if(!this._events[e].warned){var n;this._events.maxListeners!==undefined?n=this._events.maxListeners:n=u,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),console.trace())}this._events[e].push(t)}else this._events[e]=[this._events[e],t];return this},s.prototype.on=s.prototype.addListener,s.prototype.once=function(e,t){var n=this;return n.on(e,function r(){n.removeListener(e,r),t.apply(this,arguments)}),this},s.prototype.removeListener=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");if(!this._events||!this._events[e])return this;var n=this._events[e];if(o(n)){var r=n.indexOf(t);if(r<0)return this;n.splice(r,1),n.length==0&&delete this._events[e]}else this._events[e]===t&&delete this._events[e];return this},s.prototype.removeAllListeners=function(e){return e&&this._events&&this._events[e]&&(this._events[e]=null),this},s.prototype.listeners=function(e){return this._events||(this._events={}),this._events[e]||(this._events[e]=[]),o(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]}}),require.define("buffer",function(e,t,n,r,i){function s(e){this.length=e}function u(e){return e<16?"0"+e.toString(16):e.toString(16)}function a(e){return e=~~Math.ceil(+e),e<0?0:e}function f(e,t,n){if(!(this instanceof f))return new f(e,t,n);var r;if(typeof n=="number")this.length=a(t),this.parent=e,this.offset=n;else{switch(r=typeof e){case"number":this.length=a(e);break;case"string":this.length=f.byteLength(e,t);break;case"object":this.length=a(e.length);break;default:throw new Error("First argument needs to be a number, array or string.")}this.length>f.poolSize?(this.parent=new s(this.length),this.offset=0):((!c||c.length-c.used<this.length)&&h(),this.parent=c,this.offset=c.used,c.used+=this.length);if(l(e))for(var i=0;i<this.length;i++)this.parent[i+this.offset]=e[i];else r=="string"&&(this.length=this.write(e,0,t))}}function l(e){return Array.isArray(e)||f.isBuffer(e)||e&&typeof e=="object"&&typeof e.length=="number"}function h(){c=new s(f.poolSize),c.used=0}function p(e,t,n,r){var i=0;return r||(o.ok(typeof n=="boolean","missing or invalid endian"),o.ok(t!==undefined&&t!==null,"missing offset"),o.ok(t+1<e.length,"Trying to read beyond buffer length")),n?(i=e[t]<<8,i|=e[t+1]):(i=e[t],i|=e[t+1]<<8),i}function d(e,t,n,r){var i=0;return r||(o.ok(typeof n=="boolean","missing or invalid endian"),o.ok(t!==undefined&&t!==null,"missing offset"),o.ok(t+3<e.length,"Trying to read beyond buffer length")),n?(i=e[t+1]<<16,i|=e[t+2]<<8,i|=e[t+3],i+=e[t]<<24>>>0):(i=e[t+2]<<16,i|=e[t+1]<<8,i|=e[t],i+=e[t+3]<<24>>>0),i}function v(e,t,n,r){var i,s;return r||(o.ok(typeof n=="boolean","missing or invalid endian"),o.ok(t!==undefined&&t!==null,"missing offset"),o.ok(t+1<e.length,"Trying to read beyond buffer length")),s=p(e,t,n,r),i=s&32768,i?(65535-s+1)*-1:s}function m(e,t,n,r){var i,s;return r||(o.ok(typeof n=="boolean","missing or invalid endian"),o.ok(t!==undefined&&t!==null,"missing offset"),o.ok(t+3<e.length,"Trying to read beyond buffer length")),s=d(e,t,n,r),i=s&2147483648,i?(4294967295-s+1)*-1:s}function g(t,n,r,i){return i||(o.ok(typeof r=="boolean","missing or invalid endian"),o.ok(n+3<t.length,"Trying to read beyond buffer length")),e("buffer_ieee754").readIEEE754(t,n,r,23,4)}function y(t,n,r,i){return i||(o.ok(typeof r=="boolean","missing or invalid endian"),o.ok(n+7<t.length,"Trying to read beyond buffer length")),e("buffer_ieee754").readIEEE754(t,n,r,52,8)}function b(e,t){o.ok(typeof e=="number","cannot write a non-number as a number"),o.ok(e>=0,"specified a negative value for writing an unsigned value"),o.ok(e<=t,"value is larger than maximum value for type"),o.ok(Math.floor(e)===e,"value has a fractional component")}function w(e,t,n,r,i){i||(o.ok(t!==undefined&&t!==null,"missing value"),o.ok(typeof r=="boolean","missing or invalid endian"),o.ok(n!==undefined&&n!==null,"missing offset"),o.ok(n+1<e.length,"trying to write beyond buffer length"),b(t,65535)),r?(e[n]=(t&65280)>>>8,e[n+1]=t&255):(e[n+1]=(t&65280)>>>8,e[n]=t&255)}function E(e,t,n,r,i){i||(o.ok(t!==undefined&&t!==null,"missing value"),o.ok(typeof r=="boolean","missing or invalid endian"),o.ok(n!==undefined&&n!==null,"missing offset"),o.ok(n+3<e.length,"trying to write beyond buffer length"),b(t,4294967295)),r?(e[n]=t>>>24&255,e[n+1]=t>>>16&255,e[n+2]=t>>>8&255,e[n+3]=t&255):(e[n+3]=t>>>24&255,e[n+2]=t>>>16&255,e[n+1]=t>>>8&255,e[n]=t&255)}function S(e,t,n){o.ok(typeof e=="number","cannot write a non-number as a number"),o.ok(e<=t,"value larger than maximum allowed value"),o.ok(e>=n,"value smaller than minimum allowed value"),o.ok(Math.floor(e)===e,"value has a fractional component")}function x(e,t,n){o.ok(typeof e=="number","cannot write a non-number as a number"),o.ok(e<=t,"value larger than maximum allowed value"),o.ok(e>=n,"value smaller than minimum allowed value")}function T(e,t,n,r,i){i||(o.ok(t!==undefined&&t!==null,"missing value"),o.ok(typeof r=="boolean","missing or invalid endian"),o.ok(n!==undefined&&n!==null,"missing offset"),o.ok(n+1<e.length,"Trying to write beyond buffer length"),S(t,32767,-32768)),t>=0?w(e,t,n,r,i):w(e,65535+t+1,n,r,i)}function N(e,t,n,r,i){i||(o.ok(t!==undefined&&t!==null,"missing value"),o.ok(typeof r=="boolean","missing or invalid endian"),o.ok(n!==undefined&&n!==null,"missing offset"),o.ok(n+3<e.length,"Trying to write beyond buffer length"),S(t,2147483647,-2147483648)),t>=0?E(e,t,n,r,i):E(e,4294967295+t+1,n,r,i)}function C(t,n,r,i,s){s||(o.ok(n!==undefined&&n!==null,"missing value"),o.ok(typeof i=="boolean","missing or invalid endian"),o.ok(r!==undefined&&r!==null,"missing offset"),o.ok(r+3<t.length,"Trying to write beyond buffer length"),x(n,3.4028234663852886e38,-3.4028234663852886e38)),e("buffer_ieee754").writeIEEE754(t,n,r,i,23,4)}function k(t,n,r,i,s){s||(o.ok(n!==undefined&&n!==null,"missing value"),o.ok(typeof i=="boolean","missing or invalid endian"),o.ok(r!==undefined&&r!==null,"missing offset"),o.ok(r+7<t.length,"Trying to write beyond buffer length"),x(n,1.7976931348623157e308,-1.7976931348623157e308)),e("buffer_ieee754").writeIEEE754(t,n,r,i,52,8)}var o=e("assert");n.INSPECT_MAX_BYTES=50,s.prototype.inspect=function(){var e=[],t=this.length;for(var r=0;r<t;r++){e[r]=u(this[r]);if(r==n.INSPECT_MAX_BYTES){e[r+1]="...";break}}return"<SlowBuffer "+e.join(" ")+">"},s.prototype.hexSlice=function(e,t){var n=this.length;if(!e||e<0)e=0;if(!t||t<0||t>n)t=n;var r="";for(var i=e;i<t;i++)r+=u(this[i]);return r},s.prototype.toString=function(e,t,n){e=String(e||"utf8").toLowerCase(),t=+t||0,typeof n=="undefined"&&(n=this.length);if(+n==t)return"";switch(e){case"hex":return this.hexSlice(t,n);case"utf8":case"utf-8":return this.utf8Slice(t,n);case"ascii":return this.asciiSlice(t,n);case"binary":return this.binarySlice(t,n);case"base64":return this.base64Slice(t,n);case"ucs2":case"ucs-2":return this.ucs2Slice(t,n);default:throw new Error("Unknown encoding")}},s.prototype.hexWrite=function(e,t,n){t=+t||0;var r=this.length-t;n?(n=+n,n>r&&(n=r)):n=r;var i=e.length;if(i%2)throw new Error("Invalid hex string");n>i/2&&(n=i/2);for(var o=0;o<n;o++){var u=parseInt(e.substr(o*2,2),16);if(isNaN(u))throw new Error("Invalid hex string");this[t+o]=u}return s._charsWritten=o*2,o},s.prototype.write=function(e,t,n,r){if(isFinite(t))isFinite(n)||(r=n,n=undefined);else{var i=r;r=t,t=n,n=i}t=+t||0;var s=this.length-t;n?(n=+n,n>s&&(n=s)):n=s,r=String(r||"utf8").toLowerCase();switch(r){case"hex":return this.hexWrite(e,t,n);case"utf8":case"utf-8":return this.utf8Write(e,t,n);case"ascii":return this.asciiWrite(e,t,n);case"binary":return this.binaryWrite(e,t,n);case"base64":return this.base64Write(e,t,n);case"ucs2":case"ucs-2":return this.ucs2Write(e,t,n);default:throw new Error("Unknown encoding")}},s.prototype.slice=function(e,t){t===undefined&&(t=this.length);if(t>this.length)throw new Error("oob");if(e>t)throw new Error("oob");return new f(this,t-e,+e)},n.SlowBuffer=s,n.Buffer=f,f.poolSize=8192;var c;f.isBuffer=function(t){return t instanceof f||t instanceof s},f.prototype.inspect=function(){var t=[],r=this.length;for(var i=0;i<r;i++){t[i]=u(this.parent[i+this.offset]);if(i==n.INSPECT_MAX_BYTES){t[i+1]="...";break}}return"<Buffer "+t.join(" ")+">"},f.prototype.get=function(t){if(t<0||t>=this.length)throw new Error("oob");return this.parent[this.offset+t]},f.prototype.set=function(t,n){if(t<0||t>=this.length)throw new Error("oob");return this.parent[this.offset+t]=n},f.prototype.write=function(e,t,n,r){if(isFinite(t))isFinite(n)||(r=n,n=undefined);else{var i=r;r=t,t=n,n=i}t=+t||0;var o=this.length-t;n?(n=+n,n>o&&(n=o)):n=o,r=String(r||"utf8").toLowerCase();var u;switch(r){case"hex":u=this.parent.hexWrite(e,this.offset+t,n);break;case"utf8":case"utf-8":u=this.parent.utf8Write(e,this.offset+t,n);break;case"ascii":u=this.parent.asciiWrite(e,this.offset+t,n);break;case"binary":u=this.parent.binaryWrite(e,this.offset+t,n);break;case"base64":u=this.parent.base64Write(e,this.offset+t,n);break;case"ucs2":case"ucs-2":u=this.parent.ucs2Write(e,this.offset+t,n);break;default:throw new Error("Unknown encoding")}return f._charsWritten=s._charsWritten,u},f.prototype.toString=function(e,t,n){e=String(e||"utf8").toLowerCase(),typeof t=="undefined"||t<0?t=0:t>this.length&&(t=this.length),typeof n=="undefined"||n>this.length?n=this.length:n<0&&(n=0),t+=this.offset,n+=this.offset;switch(e){case"hex":return this.parent.hexSlice(t,n);case"utf8":case"utf-8":return this.parent.utf8Slice(t,n);case"ascii":return this.parent.asciiSlice(t,n);case"binary":return this.parent.binarySlice(t,n);case"base64":return this.parent.base64Slice(t,n);case"ucs2":case"ucs-2":return this.parent.ucs2Slice(t,n);default:throw new Error("Unknown encoding")}},f.byteLength=s.byteLength,f.prototype.fill=function(t,n,r){t||(t=0),n||(n=0),r||(r=this.length),typeof t=="string"&&(t=t.charCodeAt(0));if(typeof t!="number"||isNaN(t))throw new Error("value is not a number");if(r<n)throw new Error("end < start");if(r===n)return 0;if(this.length==0)return 0;if(n<0||n>=this.length)throw new Error("start out of bounds");if(r<0||r>this.length)throw new Error("end out of bounds");return this.parent.fill(t,n+this.offset,r+this.offset)},f.prototype.copy=function(e,t,n,r){var i=this;n||(n=0),r||(r=this.length),t||(t=0);if(r<n)throw new Error("sourceEnd < sourceStart");if(r===n)return 0;if(e.length==0||i.length==0)return 0;if(t<0||t>=e.length)throw new Error("targetStart out of bounds");if(n<0||n>=i.length)throw new Error("sourceStart out of bounds");if(r<0||r>i.length)throw new Error("sourceEnd out of bounds");return r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n),this.parent.copy(e.parent,t+e.offset,n+this.offset,r+this.offset)},f.prototype.slice=function(e,t){t===undefined&&(t=this.length);if(t>this.length)throw new Error("oob");if(e>t)throw new Error("oob");return new f(this.parent,t-e,+e+this.offset)},f.prototype.utf8Slice=function(e,t){return this.toString("utf8",e,t)},f.prototype.binarySlice=function(e,t){return this.toString("binary",e,t)},f.prototype.asciiSlice=function(e,t){return this.toString("ascii",e,t)},f.prototype.utf8Write=function(e,t){return this.write(e,t,"utf8")},f.prototype.binaryWrite=function(e,t){return this.write(e,t,"binary")},f.prototype.asciiWrite=function(e,t){return this.write(e,t,"ascii")},f.prototype.readUInt8=function(e,t){var n=this;return t||(o.ok(e!==undefined&&e!==null,"missing offset"),o.ok(e<n.length,"Trying to read beyond buffer length")),n[e]},f.prototype.readUInt16LE=function(e,t){return p(this,e,!1,t)},f.prototype.readUInt16BE=function(e,t){return p(this,e,!0,t)},f.prototype.readUInt32LE=function(e,t){return d(this,e,!1,t)},f.prototype.readUInt32BE=function(e,t){return d(this,e,!0,t)},f.prototype.readInt8=function(e,t){var n=this,r;return t||(o.ok(e!==undefined&&e!==null,"missing offset"),o.ok(e<n.length,"Trying to read beyond buffer length")),r=n[e]&128,r?(255-n[e]+1)*-1:n[e]},f.prototype.readInt16LE=function(e,t){return v(this,e,!1,t)},f.prototype.readInt16BE=function(e,t){return v(this,e,!0,t)},f.prototype.readInt32LE=function(e,t){return m(this,e,!1,t)},f.prototype.readInt32BE=function(e,t){return m(this,e,!0,t)},f.prototype.readFloatLE=function(e,t){return g(this,e,!1,t)},f.prototype.readFloatBE=function(e,t){return g(this,e,!0,t)},f.prototype.readDoubleLE=function(e,t){return y(this,e,!1,t)},f.prototype.readDoubleBE=function(e,t){return y(this,e,!0,t)},f.prototype.writeUInt8=function(e,t,n){var r=this;n||(o.ok(e!==undefined&&e!==null,"missing value"),o.ok(t!==undefined&&t!==null,"missing offset"),o.ok(t<r.length,"trying to write beyond buffer length"),b(e,255)),r[t]=e},f.prototype.writeUInt16LE=function(e,t,n){w(this,e,t,!1,n)},f.prototype.writeUInt16BE=function(e,t,n){w(this,e,t,!0,n)},f.prototype.writeUInt32LE=function(e,t,n){E(this,e,t,!1,n)},f.prototype.writeUInt32BE=function(e,t,n){E(this,e,t,!0,n)},f.prototype.writeInt8=function(e,t,n){var r=this;n||(o.ok(e!==undefined&&e!==null,"missing value"),o.ok(t!==undefined&&t!==null,"missing offset"),o.ok(t<r.length,"Trying to write beyond buffer length"),S(e,127,-128)),e>=0?r.writeUInt8(e,t,n):r.writeUInt8(255+e+1,t,n)},f.prototype.writeInt16LE=function(e,t,n){T(this,e,t,!1,n)},f.prototype.writeInt16BE=function(e,t,n){T(this,e,t,!0,n)},f.prototype.writeInt32LE=function(e,t,n){N(this,e,t,!1,n)},f.prototype.writeInt32BE=function(e,t,n){N(this,e,t,!0,n)},f.prototype.writeFloatLE=function(e,t,n){C(this,e,t,!1,n)},f.prototype.writeFloatBE=function(e,t,n){C(this,e,t,!0,n)},f.prototype.writeDoubleLE=function(e,t,n){k(this,e,t,!1,n)},f.prototype.writeDoubleBE=function(e,t,n){k(this,e,t,!0,n)},s.prototype.readUInt8=f.prototype.readUInt8,s.prototype.readUInt16LE=f.prototype.readUInt16LE,s.prototype.readUInt16BE=f.prototype.readUInt16BE,s.prototype.readUInt32LE=f.prototype.readUInt32LE,s.prototype.readUInt32BE=f.prototype.readUInt32BE,s.prototype.readInt8=f.prototype.readInt8,s.prototype.readInt16LE=f.prototype.readInt16LE,s.prototype.readInt16BE=f.prototype.readInt16BE,s.prototype.readInt32LE=f.prototype.readInt32LE,s.prototype.readInt32BE=f.prototype.readInt32BE,s.prototype.readFloatLE=f.prototype.readFloatLE,s.prototype.readFloatBE=f.prototype.readFloatBE,s.prototype.readDoubleLE=f.prototype.readDoubleLE,s.prototype.readDoubleBE=f.prototype.readDoubleBE,s.prototype.writeUInt8=f.prototype.writeUInt8,s.prototype.writeUInt16LE=f.prototype.writeUInt16LE,s.prototype.writeUInt16BE=f.prototype.writeUInt16BE,s.prototype.writeUInt32LE=f.prototype.writeUInt32LE,s.prototype.writeUInt32BE=f.prototype.writeUInt32BE,s.prototype.writeInt8=f.prototype.writeInt8,s.prototype.writeInt16LE=f.prototype.writeInt16LE,s.prototype.writeInt16BE=f.prototype.writeInt16BE,s.prototype.writeInt32LE=f.prototype.writeInt32LE,s.prototype.writeInt32BE=f.prototype.writeInt32BE,s.prototype.writeFloatLE=f.prototype.writeFloatLE,s.prototype.writeFloatBE=f.prototype.writeFloatBE,s.prototype.writeDoubleLE=f.prototype.writeDoubleLE,s.prototype.writeDoubleBE=f.prototype.writeDoubleBE}),require.define("buffer_ieee754",function(e,t,n,r,i){n.readIEEE754=function(e,t,n,r,i){var s,o,u=i*8-r-1,a=(1<<u)-1,f=a>>1,l=-7,c=n?0:i-1,h=n?1:-1,p=e[t+c];c+=h,s=p&(1<<-l)-1,p>>=-l,l+=u;for(;l>0;s=s*256+e[t+c],c+=h,l-=8);o=s&(1<<-l)-1,s>>=-l,l+=r;for(;l>0;o=o*256+e[t+c],c+=h,l-=8);if(s===0)s=1-f;else{if(s===a)return o?NaN:(p?-1:1)*Infinity;o+=Math.pow(2,r),s-=f}return(p?-1:1)*o*Math.pow(2,s-r)},n.writeIEEE754=function(e,t,n,r,i,s){var o,u,a,f=s*8-i-1,l=(1<<f)-1,c=l>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?s-1:0,d=r?-1:1,v=t<0||t===0&&1/t<0?1:0;t=Math.abs(t),isNaN(t)||t===Infinity?(u=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(a=Math.pow(2,-o))<1&&(o--,a*=2),o+c>=1?t+=h/a:t+=h*Math.pow(2,1-c),t*a>=2&&(o++,a/=2),o+c>=l?(u=0,o=l):o+c>=1?(u=(t*a-1)*Math.pow(2,i),o+=c):(u=t*Math.pow(2,c-1)*Math.pow(2,i),o=0));for(;i>=8;e[n+p]=u&255,p+=d,u/=256,i-=8);o=o<<i|u,f+=i;for(;f>0;e[n+p]=o&255,p+=d,o/=256,f-=8);e[n+p-d]|=v*128}}),require.define("/package.json",function(e,t,n,r,i){t.exports={}}),require.define("/index.js",function(e,t,n,r,i){var s=e("mediator"),o=new s,u=e("util");Mvc=function(){var e=this;this.className="MVC"},Mvc.prototype.toString=function(){return"::MVC::"},Mvc.prototype.Context=function(e){var t=this;this.parent=e||undefined,this.modelMediator=new s,this.viewMediator=new s,this.toString=function(){return"::CONTEXT::"}},Mvc.prototype.Context.prototype.addModel=function(e){var t=new Model(e);return this.modelMediator.add(t,"onModelUpdate"),t},Mvc.prototype.Context.prototype.addView=function(e){var t=new View(e);return this.viewMediator.add(t,"onRender"),t},View=function(e){this.name=e,that=this},Model=function(){that=this},Mvc.prototype.Context.prototype.mapCommand=function(e,t,n){var r=n||"view";try{this[r].add(e,t,e),this[r].add(e,t,e.execute)}catch(i){console.warning("Context.map type "+n+"Mediator does not exists")}},Mvc.prototype.Command=function(){this.execute=function(){console.log("Executing command...")},this.toString=function(){return"::COMMAND::"}},Mvc.prototype.CommandMap=function(){this.maps={},this.map=function(e,t){this.maps[e]=t},this.unmap=function(){},this.getMap=function(e){return this.maps[e]}},CommandMediator=new s,t.exports=function(){return new Mvc}}),require.define("/node_modules/mediator/package.json",function(e,t,n,r,i){t.exports={main:"./index.js"}}),require.define("/node_modules/mediator/index.js",function(e,t,n,r,i){var s=function(){this.self=this,this.className="Mediator",this.channels={}};s.prototype.add=function(e,t,n){this.channels[t]||(this.channels[t]=[]);for(var r=0;r<this.channels[t].length;r++)if(this.channels[t][r]==={member:e,fn:n}){console.log("Mediator: Allready a member of "+t);return}this.channels[t].push({member:e,fn:n}),e.mediators||(e.mediators=[]),e.mediators.push(this),e.emit=function(e,t){for(var n=0;n<this.mediators.length;n++)if(this.mediators[n].hasChannel(e)){this.mediators[n].emit(e,t);return}}},s.prototype.hasChannel=function(e){for(var t in this.channels)if(t===e)return!0;return!1},s.prototype.remove=function(e,t){for(var n=0;n<this.channels[e].length;n++)if(this.channels[e][n].member===t){this.channels[e].splice(n,1);return}t.mediator=undefined},s.prototype.emit=function(e,t){this.channels[e]||console.log("Mediator.emit: There is no channel called "+e);for(var n=0;n<this.channels[e].length;n++)try{this.channels[e][n].fn(t)}catch(r){}},t.exports=function(){return new s}}),require.define("/tests/tests.js",function(e,t,n,r,i){var s=e("assert"),o=e("../index"),u=new o,a=new u.Context;s.equal(a.toString(),"::CONTEXT::");var f=new u.Command;f.execute=function(){return console.log("Hello"),"Hello"},s.equal(f.toString(),"::COMMAND::");var l=new u.Command;l.execute=function(){return console.log("Yo"),"Yo"},s.equal(l.toString(),"::COMMAND::");var c=u.CommandMediator;c.on("hello",f.execute),c.many("hello",1,l.execute),c.emit("hello"),c.emit("*");var h=new u.CommandMap;h.map("commandHello",f),s.equal(h.getMap("commandHello").execute(),"Hello Yes"),s.equal(h.getMap("commandHello"),"::COMMAND::");var p=new u.View;p.open=function(){},p.close=function(){},console.log("All test passed")}),require("/tests/tests.js");